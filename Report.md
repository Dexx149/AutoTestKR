## Отчет о тестировании веб-сервиса покупки тура


### 1. Краткое описание


Проведено комплексное тестирование веб-сервиса по покупке туров, включающее функциональное тестирование формы оплаты по дебетовой карте, проверку взаимодействия с банковскими сервисами и валидацию данных в базе данных.


**Окружение тестирования:**
- ОС: Windows 11
- Браузер: Yandex (Версия 25.8.3.824 64-bit)
- СУБД: MySQL


### 2. Объем тестирования


**Общая статистика:**
- Всего тест-кейсов: 17
- Успешных: 12 (70.6%)
- Неуспешных: 5 (29.4%)
- Автоматизировано: 17 (100%)


### 3. Детализация результатов тестирования


#### 3.1. Позитивные сценарии


- S1: Успешная оплата с APPROVED-карты - ✅ PASS
- S2: Отклонение оплаты с DECLINED-карты - ❌ FAIL


#### 3.2. Негативные сценарии


**Поле "Номер карты":**
- S3: Пустой номер карты - ✅ PASS
- S4: Неполный номер карты (15 цифр) - ✅ PASS
- S5: Несуществующий номер карты - ✅ PASS


**Поле "Месяц":**
- S6: Пустой месяц - ✅ PASS
- S7: Невалидный месяц "00" - ❌ FAIL
- S8: Истекший срок карты - ✅ PASS


**Поле "Год":**
- S9: Пустой год - ✅ PASS
- S10: Истекший год - ✅ PASS


**Поле "Владелец":**
- S11: Пустой владелец - ✅ PASS
- S12: Имя на кириллице - ❌ FAIL
- S13: Цифры в поле владельца - ❌ FAIL


**Поле "CVC/CVV":**
- S14: Пустой CVC/CVV - ✅ PASS
- S15: Неполный CVC/CVV (2 цифры) - ✅ PASS


#### 3.3. Проверки базы данных
- S16: Корректность записи при успешной оплате - ✅ PASS
- S17: Корректность записи при отклоненной оплате - ✅ PASS


### 4. Найденные дефекты


#### 4.1. Критические дефекты


**Баг #1: Ложное сообщение об успехе для DECLINED-карты**
- **Серьезность:** Критическая
- **Приоритет:** Высокий
- **Описание:** При использовании DECLINED-карты (5555 6666 7777 8888) пользователь видит сообщение об успешной оплате, хотя транзакция должна быть отклонена
- **Ожидаемый результат:** Сообщение об ошибке или отклонении платежа
- **Фактический результат:** Сообщение "Успешно"


#### 4.2. Серьезные дефекты


**Баг #2: Отсутствие валидации поля "Владелец"**
- **Серьезность:** Высокая
- **Приоритет:** Высокий
- **Описание:** Поле "Владелец" принимает любые символы (кириллицу, цифры, спецсимволы)
- **Ожидаемый результат:** Только латинские буквы
- **Фактический результат:** Принимаются все символы


**Баг #3: Сообщения об ошибках не обновляются**
- **Серьезность:** Средняя
- **Приоритет:** Средний
- **Описание:** Сообщения об ошибках остаются видимыми после исправления данных на валидные
- **Ожидаемый результат:** Сообщения скрываются при исправлении ошибок
- **Фактический результат:** Сообщения остаются на экране


#### 4.3. Дефекты средней тяжести


**Баг #4: Ложные ошибки в смежных полях**
- **Серьезность:** Средняя
- **Приоритет:** Средний
- **Описание:** При пустом поле CVC появляются сообщения об ошибке в поле "Владелец"
- **Ожидаемый результат:** Ошибка только для поля CVC
- **Фактический результат:** Ошибки в нескольких полях


**Баг #5: Отсутствие валидации для месяца "00"**
- **Серьезность:** Средняя
- **Приоритет:** Средний
- **Описание:** Поле "Месяц" принимает значение "00" как валидное
- **Ожидаемый результат:** Сообщение об ошибке
- **Фактический результат:** Значение принимается


### 5. Статистика успешности тестирования


```
Общая успешность: 70.6%
├── Позитивные тесты: 50.0%
├── Негативные тесты: 76.9%
└── Тесты БД: 100.0%
```


### 6. Отчет Allure



### 7. Общие рекомендации


#### 7.1. Высокий приоритет (критические исправления)
1. **Исправить логику отображения статуса платежа** - должно соответствовать статусу в БД
2. **Реализовать строгую валидацию поля "Владелец"** - только латинские буквы
3. **Внедрить защиту от SQL-инъекций** и проверку входных данных
4. **Добавить валидацию для недопустимых значений дат** ("00", "13" и т.д.)

#### 7.2. Средний приоритет (улучшения функциональности)
5. **Исправить механизм обновления сообщений об ошибках** в реальном времени
6. **Улучшить пользовательские сообщения об ошибках**


#### 7.3. Низкий приоритет (оптимизация и улучшения)
7. **Внедрить мониторинг согласованности данных** между UI и БД
8. **Расширить логирование для отладки проблем**


### 8. Заключение


Веб-сервис покупки тура имеет несколько критических дефектов, требующих немедленного исправления, особенно в части корректного отображения статуса платежа и валидации входных данных. Несмотря на это, основная функциональность работает стабильно, а интеграция с банковскими сервисами и базой данных функционирует корректно.


**Рекомендуется:**
- Немедленно исправить критические дефекты перед выпуском в продакшен
- Провести регрессионное тестирование после исправлений
- Рассмотреть возможность расширения тестового покрытия для формы кредита
